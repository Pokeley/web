define(["z-shop-event-bus"],function(e){return r={},n.m=t=[function(e,n,t){"use strict";n.a={IOS:"ios",ANDROID:"android",WINDOWS:"windows",OTHER:"other"}},function(e,n,t){"use strict";(function(e){var r=t(0),a=[{name:"Windows 10",regex:/(Windows 10.0|Windows NT 10.0)/},{name:"Windows 8.1",regex:/(Windows 8.1|Windows NT 6.3)/},{name:"Windows 8",regex:/(Windows 8|Windows NT 6.2)/},{name:"Windows 7",regex:/(Windows 7|Windows NT 6.1)/},{name:"Windows Vista",regex:/Windows NT 6.0/},{name:"Windows Server 2003",regex:/Windows NT 5.2/},{name:"Windows XP",regex:/(Windows NT 5.1|Windows XP)/},{name:"Windows 2000",regex:/(Windows NT 5.0|Windows 2000)/},{name:"Windows ME",regex:/(Win 9x 4.90|Windows ME)/},{name:"Windows 98",regex:/(Windows 98|Win98)/},{name:"Windows 95",regex:/(Windows 95|Win95|Windows_95)/},{name:"Windows NT 4.0",regex:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{name:"Windows CE",regex:/Windows CE/},{name:"Windows 3.11",regex:/Win16/},{name:"Android",regex:/Android/},{name:"Open BSD",regex:/OpenBSD/},{name:"Sun OS",regex:/SunOS/},{name:"Linux",regex:/(Linux|X11)/},{name:"iOS",regex:/(iPhone|iPad|iPod)/},{name:"Mac OS X",regex:/Mac OS X/},{name:"Mac OS",regex:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{name:"QNX",regex:/QNX/},{name:"UNIX",regex:/UNIX/},{name:"BeOS",regex:/BeOS/},{name:"OS/2",regex:/OS\/2/},{name:"Search Bot",regex:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],o=(i.platform=function(){var e=window.navigator.userAgent;switch((a.find(function(n){return n.regex.test(e)})||{}).name){case"iOS":return r.a.IOS;case"Android":return r.a.ANDROID;case"Windows 10":return r.a.WINDOWS;default:return r.a.OTHER}},i.userAgentMatchesRegex=function(e){return new RegExp(e).test(window.navigator.userAgent)},i.jQueryMobilePage=function(){return void 0!==e.$&&void 0!==e.$.mobile&&null!=document.querySelector(".ui-page")},i.wrapperElement=function(){var e=i.jQueryMobilePage()?".ui-page":"html";return document.querySelectorAll(e)},i);function i(){!function(e,n){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this)}n.a=o}).call(this,t(4))},function(n,t){n.exports=e},function(e,n,t){e.exports=t(6)},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){},function(e,n,t){"use strict";function r(){for(var e,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];(e=console).info.apply(e,[l].concat(t))}function a(e){var n=e.action,t=e.platform;return function(e){!function(e){setTimeout(function(){e()},0)}(function(){u.a.trigger(c,e)})}({type:n,category:m,label:m+"-"+t})}t.r(n);var o=t(1),i=t(0),s=t(2),u=t.n(s),c="tracking:event",l="tracking-event:",m="smartbanner",d=function(e){return a({action:"click",platform:e.platform})},f=function(e){return a({action:"click close",platform:e.platform})};function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=[i.a.ANDROID,i.a.IOS],b={originalTop:"data-smartbanner-original-top",originalMarginTop:"data-smartbanner-original-margin-top"};function v(e){w(e.data.height)}function w(e){for(var n,t=o.a.wrapperElement(),r=0,a=t.length;r<a;r++)if(n=t[r],o.a.jQueryMobilePage()){if(n.getAttribute(b.originalTop))continue;var i=parseFloat(getComputedStyle(n).top);n.setAttribute(b.originalTop,Number.isNaN(i)?0:i),n.style.top=e+"px"}else{if(n.getAttribute(b.originalMarginTop))continue;var s=parseFloat(getComputedStyle(n).marginTop);n.setAttribute(b.originalMarginTop,Number.isNaN(s)?0:s),n.style.marginTop=e+"px"}}function y(){!function(e,n){if(!(e instanceof y))throw new TypeError("Cannot call a class as a function")}(this),this.options=function(){var e=document.getElementById("smartbanner-mask-mobile");try{var n=e.getAttribute("data-smartbanner-mask"),t=JSON.parse(n),r=Array.from(document.getElementsByTagName("meta")).find(function(e){return"al:ios:url"===e.getAttribute("property")});return r&&r.content&&(null==t.adjust&&(t.adjust={}),t.adjust.deepLink=r.content),t}catch(e){return{}}}(),this.platform=o.a.platform()}var h=(y.prototype.publish=function(){if(0===Object.keys(this.options).length)throw new Error("data is not available");if("1"===(document.cookie&&document.cookie.replace(/(?:(?:^|.*;\s*)mask_smartbanner_exited\s*=\s*([^;]*).*$)|^.*$/,"$1")))return!1;if(!this.platformEnabled)return!1;var e=document.createElement("div");document.querySelector("body").appendChild(e),e.outerHTML=this.html,w(this.height),function(e){var n=document.querySelector(".js_z-mask-smartbanner"),t=n.querySelector(".js_z-mask-smartbanner__exit"),r=n.querySelector(".js_z-mask-smartbanner__button");t.addEventListener("click",function(n){return function(e,n){n.exit(),e.preventDefault(),f({platform:n.platform})}(n,e)}),r.addEventListener("click",function(n){return function(e,n){d({platform:n.platform})}(0,e)}),o.a.jQueryMobilePage()&&$(document).on("pagebeforeshow",e,v),function(e){a({action:"view",platform:e.platform})}({platform:e.platform})}(this)},y.prototype.exit=function(){o.a.jQueryMobilePage()&&$(document).off("pagebeforeshow",v),u.a.off(c,r),function(){for(var e,n=o.a.wrapperElement(),t=0,r=n.length;t<r;t++)e=n[t],o.a.jQueryMobilePage()&&e.getAttribute(b.originalTop)?e.style.top=e.getAttribute(b.originalTop)+"px":e.getAttribute(b.originalMarginTop)&&(e.style.marginTop=e.getAttribute(b.originalMarginTop)+"px")}();var e=document.querySelector(".js_z-mask-smartbanner");document.querySelector("body").removeChild(e),function(e){var n=e?function(e){var n=new Date;return"expires="+new Date(n.getTime()+e).toGMTString()}(e):"";document.cookie="mask_smartbanner_exited=1;"+(n?" "+n+";":"")+" path=/"}(6048e5)},function(e,n,t){n&&p(e.prototype,n),t&&p(e,t)}(y,[{key:"html",get:function(){var e=this.options,n=e.imageURL,t=e.title,r=e.author,a=e.adjust,o=void 0===a?{}:a,i=e.buttonText;return'\n            <div class="z-mask-smartbanner z-mask-smartbanner--'+this.platform+' js_z-mask-smartbanner">\n                <a \n                    href="javascript:void();" \n                    class="z-mask-smartbanner__exit js_z-mask-smartbanner__exit"\n                ></a>\n                <div class="z-mask-smartbanner__icon">'+n+'</div>\n                <div class="z-mask-smartbanner__info">\n                    <div>\n                        <div class="z-mask-smartbanner__info__title">'+t+'</div>\n                        <div class="z-mask-smartbanner__info__author">'+r+'</div>\n                    </div>\n                </div>\n                <a \n                    href="'+function(e){var n=e.url,t=e.params,r=e.deepLink,a=void 0===r?"":r,o=encodeURIComponent(a);return""+n+a.replace("zalando://","")+(a.includes("?")?"&":"?")+(t?t+"&":"")+"adjust_deeplink="+o}(o)+'" \n                    target="_blank" \n                    class="z-mask-smartbanner__button js_z-mask-smartbanner__button"\n                >\n                    <span class="z-mask-smartbanner__button__label">'+i+"</span>\n                </a>\n            </div>"}},{key:"height",get:function(){var e=document.querySelector(".js_z-mask-smartbanner").offsetHeight;return void 0!==e?e:0}},{key:"platformEnabled",get:function(){return g.includes(this.platform)}}]),y);t(5),n.default=function(){(new h).publish()}}],n.c=r,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(n){return e[n]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="https://mosaic02.ztat.net/msk/smartbanner/",n(n.s=3);function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t,r});